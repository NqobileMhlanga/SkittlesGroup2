// Initialize an instance of Cloud Functions:

private FirebaseFunctions mFunctions;
// ...
mFunctions = FirebaseFunctions.getInstance();

// Call createUserDocument()

private Task<String> addMessage(String acc_type, String fname, String lname, String university, String university_id) {
    // Create the arguments to the callable function.
    Map<String, Object> data = new HashMap<>();
    data.put("acc_type", acc_type);
    data.put("fname", text);
    data.put("lname", true);
    data.put("university", university);
    data.put("university_id", university_id);

    return mFunctions
            .getHttpsCallable("createUserDocument")
            .call(data)
            .continueWith(new Continuation<HttpsCallableResult, String>() {
                @Override
                public String then(@NonNull Task<HttpsCallableResult> task) throws Exception {
                    // This continuation runs on either success or failure, but if the task
                    // has failed then getResult() will throw an Exception which will be
                    // propagated down.
                    String result = (String) task.getResult().getData();
                    return result;
                }
            });
}
